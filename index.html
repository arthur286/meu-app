<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site de Tarefas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="sidebar">
    <h2>Minhas Tarefas</h2>
    <ul>
        <li>Todas as tarefas</li>
        <li>Em andamento</li>
        <li>Conclu√≠das</li>
        <li>Favoritas</li>
    </ul>
</div>

<div class="main">
    <header>
        <input type="text" id="taskInput" placeholder="Adicionar tarefa...">
        <button id="addTaskBtn">Adicionar tarefa</button>
        <button id="voiceBtn">üé§</button>
    </header>

    <section class="task-list" id="taskList">
        <!-- As tarefas ser√£o adicionadas aqui -->
    </section>
</div>

<script>
    const taskInput = document.getElementById('taskInput');
    const addTaskBtn = document.getElementById('addTaskBtn');
    const taskList = document.getElementById('taskList');
    const voiceBtn = document.getElementById('voiceBtn');

    let completedTasks = 0; // Contador de tarefas conclu√≠das

    // Fun√ß√£o para adicionar uma nova tarefa
    function addTask() {
        const taskText = taskInput.value.trim();
        if (taskText) {
            const newTask = document.createElement('div');
            newTask.className = 'task-card';
            newTask.innerHTML = `
                <h3>${taskText}</h3>
                <p>Data: ${new Date().toLocaleDateString()}</p>
                <button class="completeBtn">Concluir</button>
                <button class="favoriteBtn">‚≠ê Favoritar</button>
            `;
            taskList.appendChild(newTask);
            taskInput.value = ''; // Limpa o campo de entrada

            // Adiciona evento ao bot√£o de concluir
            const completeBtn = newTask.querySelector('.completeBtn');
            completeBtn.addEventListener('click', () => completeTask(newTask));

            // Adiciona evento ao bot√£o de favoritar
            const favoriteBtn = newTask.querySelector('.favoriteBtn');
            favoriteBtn.addEventListener('click', () => toggleFavorite(newTask));
        }
    }

    // Fun√ß√£o para concluir uma tarefa
    function completeTask(task) {
        task.classList.add('completed'); // Adiciona a classe para estilizar
        task.querySelector('.completeBtn').disabled = true; // Desabilita o bot√£o
        completedTasks++; // Incrementa o contador de tarefas conclu√≠das

        // Verifica se o n√∫mero de tarefas conclu√≠das √© um m√∫ltiplo de 3
        if (completedTasks % 3 === 0) {
            askHealthQuestions();
        }
    }

    // Fun√ß√£o para favoritar/desfavoritar uma tarefa
    function toggleFavorite(task) {
        task.classList.toggle('favorite'); // Alterna a classe de favorita
        const favoriteBtn = task.querySelector('.favoriteBtn');

        // Altera o texto do bot√£o de favorito
        if (task.classList.contains('favorite')) {
            favoriteBtn.textContent = '‚≠ê Favoritado';
        } else {
            favoriteBtn.textContent = '‚≠ê Favoritar';
        }
    }

    // Fun√ß√£o para fazer as perguntas
    function askHealthQuestions() {
        const response1 = prompt("J√° bebeu √°gua hoje?");
        const response2 = prompt("Como est√° a sua sa√∫de mental?");
        const response3 = prompt("Como est√° se sentindo hoje?");
        
        // Aqui voc√™ pode processar as respostas como quiser
        console.log(response1, response2, response3);
    }

    // Adiciona evento ao bot√£o "Adicionar tarefa"
    addTaskBtn.addEventListener('click', addTask);

    // Configura o reconhecimento de voz
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();

    recognition.lang = 'pt-BR';

    // Inicia o reconhecimento de voz
    voiceBtn.addEventListener('click', () => {
        recognition.start();
    });

    // Lida com o resultado do reconhecimento de voz
    recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        taskInput.value = transcript; // Coloca o texto reconhecido no campo de entrada
        addTask(); // Adiciona a tarefa automaticamente
    };

    // Lida com erros
    recognition.onerror = (event) => {
        console.error('Erro no reconhecimento de voz: ', event.error);
    };
</script>

</body>
</html>
